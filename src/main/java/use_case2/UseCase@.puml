@startuml
title Clean Architecture - Simple Flow

actor User

participant "TransactionView" as View
participant "AddTransactionController" as Controller
participant "TransactionInteractor" as Interactor
participant "Transaction" as Entity
participant "TransactionPresenter" as Presenter

User -> View: 1. Submit form
View -> Controller: 2. execute()
Controller -> Interactor: 3. execute(InputData)
Interactor -> Interactor: 4. Validate business rules

alt Add
    Interactor -> Entity: 5. save()
else Edit
    Interactor -> Entity: 5. update()
end

alt Success
    Interactor -> Presenter: 6. prepareSuccessView()
else Failure
    Interactor -> Presenter: 6. prepareFailView()
end

Presenter -> View: 7. Update state
View -> User: 8. Show result

@enduml